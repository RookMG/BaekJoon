# [Diamond V] 룩, 비숍, 킹, 나이트, 궁전 게임 - 16880 

[문제 링크](https://www.acmicpc.net/problem/16880) 

### 성능 요약

메모리: 108052 KB, 시간: 448 ms

### 분류

게임 이론, 스프라그–그런디 정리

### 문제 설명

<p>오늘은 큐브러버와 함께 룩, 비숍, 킹, 나이트, 궁전을 이용한 게임을 하려고 한다.</p>

<p>크기가 (10<sup>9</sup>-1)×(10<sup>9</sup>-1)인 체스판 위에 체스말 N개가 놓여져 있다. 이 게임에서 사용하는 체스말은 룩, 비숍, 킹, 나이트, 궁전이다. 궁전은 구사과가 <a href="/problem/16878">16878번</a>에서 새로 만든 체스 말이다. 궁전은 룩의 이동 방법과 킹의 이동 방법을 모두 사용할 수 있다. 즉, 같은 행 또는 열에 있는 칸이나 인접한 네 방향과 대각선 네 방향으로 이동할 수 있다.</p>

<p>구사과와 큐브러버는 턴을 번갈아가면서 게임을 하며, 각 턴은 다음과 같이 이루어져 있다.</p>

<ul>
	<li>체스판 위에 있는 체스말을 하나 고르고, 왼쪽 아랫 방향으로 한 번 옮긴다. 즉, 가장 왼쪽 아랫칸과 "<a href="https://ko.wikipedia.org/wiki/%EB%A7%A8%ED%95%B4%ED%8A%BC_%EA%B1%B0%EB%A6%AC">맨해튼 거리</a>"가 감소해야 하며, 두 좌표가 증가하지 않아야 한다.</li>
</ul>

<p>더 이상 체스말을 이동시킬 수 없는 플레이어가 게임을 지게 된다.</p>

<p>두 사람이 최적의 방법으로 게임을 진행했을 때, 누가 이기는지 구하는 프로그램을 작성하시오. 게임은 구사과가 먼저 시작하며, 두 개 이상의 말이 하나의 칸에 동시에 있을 수 있다.</p>

<p>가장 왼쪽 아랫칸의 좌표는 (0, 0)이고, 오른쪽 윗칸의 좌표는 (10<sup>9</sup>-1,10<sup>9</sup>-1)이다.</p>

### 입력 

 <p>첫째 줄에 체스말의 개수 N(1 ≤ N ≤ 300,000)이 주어진다. 둘째 줄부터 N개의 줄에 체스말의 좌표 x, y (0 ≤ x, y < 10<sup>9</sup>)와 체스말의 종류 c가 한 줄에 하나씩 주어진다.</p>

<p>c는 R, B, K, N, P 중 하나이며, 순서대로 룩, 비숍, 킹, 나이트, 궁전을 의미한다.</p>

### 출력 

 <p>구사과가 게임을 이기는 경우에는 "koosaga"를, 큐브러버가 이기는 경우에는 "cubelover"를 출력한다.</p>

